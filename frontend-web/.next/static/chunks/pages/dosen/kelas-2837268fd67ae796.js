(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6665],{39151:function(e,t,n){"use strict";var a=n(84839),s=(n(67294),n(3242)),r=n(85893);t.Z=function(e){var t=e.role,n=e.entity,i=e.visible,l=e.setVisible,o=e.modalText,c=e.modalContent;return(0,r.jsxs)(a.Z,{title:"".concat((0,s.Ps)(t)," ").concat((0,s.Ps)(n)),visible:i,onCancel:function(){return l(!1)},footer:null,children:[c,(0,r.jsx)("p",{children:o})]})}},57681:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n(67294),s=n(9008),r=n(74264),i=n(71230),l=n(15746),o=n(9504),c=n(71577),u=n(14670),d=n(64789),m=n(39151),h=n(4730),f=n(66933),j=n(89104),p=n(79531),x=n(315),b=n(27049),Z=n(43215),y=n(64082),g=n(85893),v=["form","setFormObj","setVisible","handleSubmit"];var k=function(e){e.form;var t=e.setFormObj,n=e.setVisible,a=e.handleSubmit;return(0,h.Z)(e,v),f.Z.Option,(0,g.jsxs)(j.Z,{onFinish:function(e){t(e),a(e)},layout:"vertical",children:[(0,g.jsxs)(i.Z,{gutter:10,children:[(0,g.jsx)(l.Z,{span:13,children:(0,g.jsx)(j.Z.Item,{name:"kelas_nama",label:"Nama Kelas",extra:(0,g.jsxs)(g.Fragment,{children:["Format [Prodi]-[Kelas]-[Tahun] ",(0,g.jsx)("br",{})," Contoh: TI-1A-2021"]}),rules:[{required:!0,message:"Masukkan nama kelas!"}],children:(0,g.jsx)(p.Z,{prefix:(0,g.jsx)(Z.Z,{}),placeholder:" Format [Prodi]-[Kelas]-[Tahun] . . ."})})}),(0,g.jsx)(l.Z,{children:(0,g.jsx)(j.Z.Item,{name:"semester",label:"Semester",rules:[{required:!0,message:"Mohon masukkan data semester!"}],children:(0,g.jsx)(f.Z,{placeholder:"Pilih semester . . .",style:{width:"200px"},children:[1,2,3,4,5,6,7,8].map((function(e){return(0,g.jsx)(f.Z.Option,{children:e},e)}))})})})]}),(0,g.jsx)(i.Z,{children:(0,g.jsx)(j.Z.Item,{label:"Upload Data Kelas",children:(0,g.jsx)(j.Z.Item,{name:"excelFile",valuePropName:"fileList",getValueFromEvent:function(e){return console.log("Upload event:",e)},noStyle:!0,children:(0,g.jsxs)(x.Z.Dragger,{multiple:!1,accept:"application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",name:"files",action:"/upload.do",style:{padding:"3em"},children:[(0,g.jsx)("p",{className:"ant-upload-drag-icon",children:(0,g.jsx)(y.Z,{})}),(0,g.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,g.jsxs)("p",{className:"ant-upload-hint",children:["Hanya bisa upload file .xlsx atau .xls"," "]})]})})})}),(0,g.jsx)(b.Z,{}),(0,g.jsxs)(i.Z,{justify:"end",gutter:10,style:{padding:0,margin:0},children:[(0,g.jsx)(l.Z,{children:(0,g.jsx)(c.Z,{onClick:function(){console.log("Clicked cancel button"),n(!1)},children:"Cancel"},"back")}),(0,g.jsx)(l.Z,{children:(0,g.jsx)(c.Z,{type:"primary",htmlType:"submit",children:"Submit"},"submit")})]})]})},S=["form","currentKelas","setVisible","handleSubmit"];var I=function(e){e.form;var t=e.currentKelas,n=e.setVisible,a=e.handleSubmit;return(0,h.Z)(e,S),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.Z,{justify:"center",children:"Apakah Anda yakin ingin menghapus kelas ini ?"}),(0,g.jsxs)(i.Z,{justify:"center",style:{marginTop:"1em"},gutter:10,children:[(0,g.jsx)(l.Z,{children:(0,g.jsx)(c.Z,{ghost:!0,type:"primary",onClick:function(){return n(!1)},children:"Tidak"})}),(0,g.jsx)(l.Z,{children:(0,g.jsx)(c.Z,{type:"danger",ghost:!0,onClick:function(){return a(t)},children:"Ya, Hapus"})})]})]})},T=n(16835),_=["setFormObj","setVisible","handleSubmit","currentKelas"];var F=function(e){var t=e.setFormObj,n=e.setVisible,s=e.handleSubmit,r=e.currentKelas,o=((0,h.Z)(e,_),j.Z.useForm()),u=(0,T.Z)(o,1)[0];return(0,a.useEffect)((function(){u.setFieldsValue({kelas_nama:null===r||void 0===r?void 0:r.nama,semester:null===r||void 0===r?void 0:r.semester})}),[r]),(0,g.jsxs)(j.Z,{form:u,onFinish:function(e){t(e),s(e)},layout:"vertical",children:[(0,g.jsxs)(i.Z,{gutter:10,children:[(0,g.jsx)(l.Z,{span:13,children:(0,g.jsx)(j.Z.Item,{name:"kelas_nama",label:"Nama Kelas",extra:(0,g.jsxs)(g.Fragment,{children:["Format [Prodi]-[Kelas]-[Tahun] ",(0,g.jsx)("br",{})," Contoh: TI-1A-2021"]}),rules:[{required:!0,message:"Masukkan nama kelas!"}],children:(0,g.jsx)(p.Z,{prefix:(0,g.jsx)(Z.Z,{}),placeholder:" Format [Prodi]-[Kelas]-[Tahun] . . ."})})}),(0,g.jsx)(l.Z,{children:(0,g.jsx)(j.Z.Item,{name:"semester",label:"Semester",rules:[{required:!0,message:"Mohon masukkan data semester!"}],children:(0,g.jsx)(f.Z,{placeholder:"Pilih semester . . .",style:{width:"200px"},children:[1,2,3,4,5,6,7,8].map((function(e){return(0,g.jsx)(f.Z.Option,{children:e},e)}))})})})]}),(0,g.jsx)(b.Z,{}),(0,g.jsxs)(i.Z,{justify:"end",gutter:10,style:{padding:0,margin:0},children:[(0,g.jsx)(l.Z,{children:(0,g.jsx)(c.Z,{onClick:function(){console.log("Clicked cancel button"),n(!1)},children:"Cancel"},"back")}),(0,g.jsx)(l.Z,{children:(0,g.jsx)(c.Z,{type:"primary",htmlType:"submit",children:"Submit"},"submit")})]})]})},C=n(62047),K=n(97786);var w=function(){var e=(0,a.useState)([]),t=e[0],n=e[1],h=(0,a.useState)(!1),f=h[0],j=h[1],p=(0,a.useState)({}),x=p[0],b=p[1],Z=(0,a.useState)({}),y=(Z[0],Z[1]),v=(0,a.useState)(!1),S=v[0],T=v[1],_=(0,a.useState)(!1),w=_[0],V=_[1],N=(0,a.useState)(""),A=N[0],O=N[1],P=(0,a.useState)(""),D=P[0],M=P[1],E=(0,a.useState)(!1),L=E[0],q=E[1],z=(0,a.useState)("success"),J=z[0],Q=(z[1],(0,a.useState)("Alert muncul")),X=Q[0],Y=Q[1];(0,a.useEffect)((function(){(0,r.PQ)().then((function(e){console.log(e.data),n(e.data),j(!0)})).catch((function(){return console.log("error")}))}),[]);var G=function(){return T((function(e){return!e}))},U=function(){return q((function(e){return!e}))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(s.default,{children:(0,g.jsx)("title",{children:"SQLearn | Dosen - Daftar Kelas "})}),(0,g.jsxs)(K.Z,{role:"dosen",children:[(0,g.jsxs)(i.Z,{justify:"space-between",children:[(0,g.jsx)(l.Z,{children:(0,g.jsx)(o.Z.Title,{level:2,children:"Daftar Kelas "})}),(0,g.jsx)(l.Z,{children:(0,g.jsxs)(c.Z,{type:"primary",onClick:function(){O("tambah"),G()},children:["Tambah Kelas ",(0,g.jsx)(d.Z,{})]})})]}),L&&(0,g.jsx)(u.Z,{message:X,type:J,closable:!0,showIcon:!0,banner:!0,style:{marginBottom:"1em"}}),(0,g.jsx)(m.Z,{role:A,entity:"Kelas",visible:S,setVisible:T,confirmLoading:w,setConfirmLoading:V,modalText:D,setModalText:M,modalContent:"tambah"===A?(0,g.jsx)(k,{handleSubmit:function(e){U(),setTimeout((function(){return U()}),5e3),G(),Y("Data ".concat(e.kelas_nama," berhasil ditambahkan")),console.log("Hasil submit tambah",e)},setVisible:T,setFormObj:y}):"edit"===A?(0,g.jsx)(F,{handleSubmit:function(e){U(),setTimeout((function(){return U()}),5e3),G(),Y("Data Kelas ".concat(e.kelas_nama," berhasil diubah")),U(),console.log("Data berhasil diedit",e)},setVisible:T,setFormObj:y,currentKelas:x}):(0,g.jsx)(I,{handleSubmit:function(e){U(),setTimeout((function(){return U()}),5e3),G(),Y("Data Kelas ".concat(e.nama," berhasil dihapus")),U(),console.log("Data terhapus",e)},setVisible:T,currentKelas:x})}),(0,g.jsx)(C.Z,{isLoading:!f,role:"list-kelas-dosen",editKelas:function(e){console.log("Selected, ",e),O("edit"),b(e),G()},deleteKelas:function(e){O("delete"),b(e),G()},dataSource:t})]})]})}},23143:function(e,t,n){"use strict";n.d(t,{Yv:function(){return s}});var a="https://api.sqlearn.sultanachmad.me",s="".concat(a,"/api/classes");"".concat(a,"/api/containers"),"".concat(a,"/api/casestudies"),"".concat(a,"/api/questions"),"".concat(a,"/api/schedules"),"".concat(a,"/api/sessions"),"".concat(a,"/api/users/login"),"".concat(a,"/api/v2/database/create/testcreate"),"".concat(a,"/api/v2/database/desc_table/auto_assess_tes"),"".concat(a,"/api/v2/assessment/multi_key"),"".concat(a,"/api/v2/assessment/single_key")},74264:function(e,t,n){"use strict";n.d(t,{j$:function(){return c},PQ:function(){return u}});var a=n(50029),s=n(87794),r=n.n(s),i=n(9669),l=n.n(i),o=n(23143),c=function(){var e=(0,a.Z)(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("".concat(o.Yv),{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7ImlkIjo1LCJyb2xlIjoiZG9zZW4ifSwiaWF0IjoxNjQ2NDYxNTczfQ.s26EwVazSln8jLtMTXtym8aodRvvADK_Ik_-jVGiFb4"}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){return new Promise((function(e,t){setTimeout((function(){e({data:[{id:1,nama:"TI-1A-2021",jumlahMhs:25,semester:2},{id:2,nama:"TI-1G-2021",jumlahMhs:22,semester:4},{id:3,nama:"TI-2D-2020",jumlahMhs:25,semester:4},{id:4,nama:"TI-2E-2020",jumlahMhs:28,semester:1},{id:5,nama:"TI-2F-2020",jumlahMhs:30,semester:2}]})}),1e3)}))}},58171:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dosen/kelas",function(){return n(57681)}])},52587:function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n.d(t,{Z:function(){return a}})},16835:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(2937);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,r=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);i=!0);}catch(o){l=!0,s=o}finally{try{i||null==n.return||n.return()}finally{if(l)throw s}}return r}}(e,t)||(0,a.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2937:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(52587);function s(e,t){if(e){if("string"===typeof e)return(0,a.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,a.Z)(e,t):void 0}}}},function(e){e.O(0,[4885,6117,7751,7305,6933,2065,3319,5027,4839,1610,74,9774,2888,179],(function(){return t=58171,e(e.s=t);var t}));var t=e.O();_N_E=t}]);