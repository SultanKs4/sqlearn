(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5618],{54907:function(e,a,n){"use strict";n.d(a,{Z:function(){return T}});var t=n(87462),i=n(4942),s=n(67294),r=n(74902),l=n(15671),o=n(43144),c=n(60136),u=n(73568),d=n(71002),m=n(94184),p=n.n(m),h=n(96774),f=n.n(h),v=n(50344),b=n(93481),g=n(97685),Z=s.forwardRef((function(e,a){var n,t=e.prefixCls,r=e.forceRender,l=e.className,o=e.style,c=e.children,u=e.isActive,d=e.role,m=s.useState(u||r),h=(0,g.Z)(m,2),f=h[0],v=h[1];return s.useEffect((function(){(r||u)&&v(!0)}),[r,u]),f?s.createElement("div",{ref:a,className:p()("".concat(t,"-content"),(n={},(0,i.Z)(n,"".concat(t,"-content-active"),u),(0,i.Z)(n,"".concat(t,"-content-inactive"),!u),n),l),style:o,role:d},s.createElement("div",{className:"".concat(t,"-content-box")},c)):null}));Z.displayName="PanelContent";var x=Z,y=function(e){(0,c.Z)(n,e);var a=(0,u.Z)(n);function n(){var e;(0,l.Z)(this,n);for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(e=a.call.apply(a,[this].concat(i))).handleItemClick=function(){var a=e.props,n=a.onItemClick,t=a.panelKey;"function"===typeof n&&n(t)},e.handleKeyPress=function(a){"Enter"!==a.key&&13!==a.keyCode&&13!==a.which||e.handleItemClick()},e}return(0,o.Z)(n,[{key:"shouldComponentUpdate",value:function(e){return!f()(this.props,e)}},{key:"render",value:function(){var e,a,n=this,r=this.props,l=r.className,o=r.id,c=r.style,u=r.prefixCls,d=r.header,m=r.headerClass,h=r.children,f=r.isActive,v=r.showArrow,g=r.destroyInactivePanel,Z=r.accordion,y=r.forceRender,k=r.openMotion,_=r.expandIcon,j=r.extra,C=r.collapsible,S="disabled"===C,w=p()("".concat(u,"-header"),(e={},(0,i.Z)(e,m,m),(0,i.Z)(e,"".concat(u,"-header-collapsible-only"),"header"===C),e)),I=p()((a={},(0,i.Z)(a,"".concat(u,"-item"),!0),(0,i.Z)(a,"".concat(u,"-item-active"),f),(0,i.Z)(a,"".concat(u,"-item-disabled"),S),a),l),N=s.createElement("i",{className:"arrow"});v&&"function"===typeof _&&(N=_(this.props));var K=null!==j&&void 0!==j&&"boolean"!==typeof j;return s.createElement("div",{className:I,style:c,id:o},s.createElement("div",{className:w,onClick:function(){return"header"!==C&&n.handleItemClick()},role:Z?"tab":"button",tabIndex:S?-1:0,"aria-expanded":f,onKeyPress:this.handleKeyPress},v&&N,"header"===C?s.createElement("span",{onClick:this.handleItemClick,className:"".concat(u,"-header-text")},d):d,K&&s.createElement("div",{className:"".concat(u,"-extra")},j)),s.createElement(b.Z,(0,t.Z)({visible:f,leavedClassName:"".concat(u,"-content-hidden")},k,{forceRender:y,removeOnLeave:g}),(function(e,a){var n=e.className,t=e.style;return s.createElement(x,{ref:a,prefixCls:u,className:n,style:t,isActive:f,forceRender:y,role:Z?"tabpanel":null},h)})))}}]),n}(s.Component);y.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var k=y;function _(e){var a=e;if(!Array.isArray(a)){var n=(0,d.Z)(a);a="number"===n||"string"===n?[a]:[]}return a.map((function(e){return String(e)}))}var j=function(e){(0,c.Z)(n,e);var a=(0,u.Z)(n);function n(e){var t;(0,l.Z)(this,n),(t=a.call(this,e)).onClickItem=function(e){var a=t.state.activeKey;if(t.props.accordion)a=a[0]===e?[]:[e];else{var n=(a=(0,r.Z)(a)).indexOf(e);n>-1?a.splice(n,1):a.push(e)}t.setActiveKey(a)},t.getNewChild=function(e,a){if(!e)return null;var n=t.state.activeKey,i=t.props,r=i.prefixCls,l=i.openMotion,o=i.accordion,c=i.destroyInactivePanel,u=i.expandIcon,d=i.collapsible,m=e.key||String(a),p=e.props,h=p.header,f=p.headerClass,v=p.destroyInactivePanel,b=p.collapsible,g=null!==b&&void 0!==b?b:d,Z={key:m,panelKey:m,header:h,headerClass:f,isActive:o?n[0]===m:n.indexOf(m)>-1,prefixCls:r,destroyInactivePanel:null!==v&&void 0!==v?v:c,openMotion:l,accordion:o,children:e.props.children,onItemClick:"disabled"===g?null:t.onClickItem,expandIcon:u,collapsible:g};return"string"===typeof e.type?e:s.cloneElement(e,Z)},t.getItems=function(){var e=t.props.children;return(0,v.Z)(e).map(t.getNewChild)},t.setActiveKey=function(e){"activeKey"in t.props||t.setState({activeKey:e}),t.props.onChange(t.props.accordion?e[0]:e)};var i=e.activeKey,o=e.defaultActiveKey;return"activeKey"in e&&(o=i),t.state={activeKey:_(o)},t}return(0,o.Z)(n,[{key:"shouldComponentUpdate",value:function(e,a){return!f()(this.props,e)||!f()(this.state,a)}},{key:"render",value:function(){var e,a=this.props,n=a.prefixCls,t=a.className,r=a.style,l=a.accordion,o=p()((e={},(0,i.Z)(e,n,!0),(0,i.Z)(e,t,!!t),e));return s.createElement("div",{className:o,style:r,role:l?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(e){var a={};return"activeKey"in e&&(a.activeKey=_(e.activeKey)),a}}]),n}(s.Component);j.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},j.Panel=k;var C=j,S=(j.Panel,n(18073)),w=n(98423),I=n(59844),N=n(21687),K=function(e){(0,N.Z)(!("disabled"in e),"Collapse.Panel",'`disabled` is deprecated. Please use `collapsible="disabled"` instead.');var a=s.useContext(I.E_).getPrefixCls,n=e.prefixCls,r=e.className,l=void 0===r?"":r,o=e.showArrow,c=void 0===o||o,u=a("collapse",n),d=p()((0,i.Z)({},"".concat(u,"-no-arrow"),!c),l);return s.createElement(C.Panel,(0,t.Z)({},e,{prefixCls:u,className:d}))},A=n(33603),P=n(96159),E=function(e){var a,n=s.useContext(I.E_),r=n.getPrefixCls,l=n.direction,o=e.prefixCls,c=e.className,u=void 0===c?"":c,d=e.bordered,m=void 0===d||d,h=e.ghost,f=r("collapse",o),b=function(){var a=e.expandIconPosition;return void 0!==a?a:"rtl"===l?"right":"left"}(),g=p()((a={},(0,i.Z)(a,"".concat(f,"-borderless"),!m),(0,i.Z)(a,"".concat(f,"-icon-position-").concat(b),!0),(0,i.Z)(a,"".concat(f,"-rtl"),"rtl"===l),(0,i.Z)(a,"".concat(f,"-ghost"),!!h),a),u),Z=(0,t.Z)((0,t.Z)({},A.Z),{motionAppear:!1,leavedClassName:"".concat(f,"-content-hidden")});return s.createElement(C,(0,t.Z)({openMotion:Z},e,{expandIcon:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.expandIcon,t=n?n(a):s.createElement(S.Z,{rotate:a.isActive?90:void 0});return s.createElement("div",null,(0,P.Tm)(t,(function(){return{className:p()(t.props.className,"".concat(f,"-arrow"))}})))},prefixCls:f,className:g}),function(){var a=e.children;return(0,v.Z)(a).map((function(e,a){var n;if(null===(n=e.props)||void 0===n?void 0:n.disabled){var i=e.key||String(a),s=e.props,r=s.disabled,l=s.collapsible,o=(0,t.Z)((0,t.Z)({},(0,w.Z)(e.props,["disabled"])),{key:i,collapsible:null!==l&&void 0!==l?l:r?"disabled":void 0});return(0,P.Tm)(e,o)}return e}))}())};E.Panel=K;var T=E},39151:function(e,a,n){"use strict";var t=n(84839),i=(n(67294),n(3242)),s=n(85893);a.Z=function(e){var a=e.role,n=e.entity,r=e.visible,l=e.setVisible,o=e.modalText,c=e.modalContent;return(0,s.jsxs)(t.Z,{title:"".concat((0,i.Ps)(a)," ").concat((0,i.Ps)(n)),visible:r,onCancel:function(){return l(!1)},footer:null,children:[c,(0,s.jsx)("p",{children:o})]})}},54565:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return P}});var t=n(67294),i=n(9008),s=n(97786),r=n(71230),l=n(15746),o=n(9504),c=n(71577),u=n(14670),d=n(64789),m=n(39151),p=n(62047),h=n(4730),f=n(85893),v=["form","currentStudiKasus","setVisible","handleSubmit"];var b=function(e){e.form;var a=e.currentStudiKasus,n=e.setVisible,t=e.handleSubmit;return(0,h.Z)(e,v),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(r.Z,{justify:"center",children:"Apakah Anda yakin ingin menghapus ".concat(a.nama," ?")}),(0,f.jsxs)(r.Z,{justify:"center",style:{marginTop:"1em"},gutter:10,children:[(0,f.jsx)(l.Z,{children:(0,f.jsx)(c.Z,{ghost:!0,type:"primary",onClick:function(){return n(!1)},children:"Tidak"})}),(0,f.jsx)(l.Z,{children:(0,f.jsx)(c.Z,{type:"danger",ghost:!0,onClick:function(){return t(a)},children:"Ya, Hapus"})})]})]})},g=n(12461),Z=n(315),x=n(89104),y=n(79531),k=n(27049),_=n(13520),j=n(64082),C=["form","setFormObj","setVisible","handleSubmit"];var S=function(e){e.form;var a=e.setFormObj,n=e.setVisible,t=e.handleSubmit;return(0,h.Z)(e,C),(0,f.jsxs)(x.Z,{onFinish:function(e){a(e),t(e)},layout:"vertical",children:[(0,f.jsx)(r.Z,{gutter:20,children:(0,f.jsx)(l.Z,{span:12,children:(0,f.jsx)(x.Z.Item,{name:"studi_kasus_nama",label:"Nama Studi Kasus",rules:[{required:!0,message:"Mohon masukkan nama Studi Kasus!"}],children:(0,f.jsx)(y.Z,{prefix:(0,f.jsx)(_.Z,{}),placeholder:" Studi Kasus . . ."})})})}),(0,f.jsx)(x.Z.Item,{label:"Database",children:(0,f.jsx)(x.Z.Item,{name:"database",valuePropName:"fileList",getValueFromEvent:function(e){return console.log("Upload event:",e)},noStyle:!0,children:(0,f.jsxs)(Z.Z.Dragger,{multiple:!1,beforeUpload:function(e){return function(e){return e.name.includes(".sql")||(console.log("bukan sql"),g.ZP.error("".concat(e.name," is not a .sql file"))),!!e.name.includes(".sql")||Z.Z.LIST_IGNORE}(e)},name:"files",action:"/upload.do",children:[(0,f.jsx)("p",{className:"ant-upload-drag-icon",children:(0,f.jsx)(j.Z,{})}),(0,f.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,f.jsx)("p",{className:"ant-upload-hint",children:"Hanya bisa upload file .sql "})]})})}),(0,f.jsx)(k.Z,{}),(0,f.jsxs)(r.Z,{justify:"end",gutter:10,style:{padding:0,margin:0},children:[(0,f.jsx)(l.Z,{children:(0,f.jsx)(c.Z,{onClick:function(){console.log("Clicked cancel button"),n(!1)},children:"Cancel"},"back")}),(0,f.jsx)(l.Z,{children:(0,f.jsx)(c.Z,{type:"primary",htmlType:"submit",children:"Submit"},"submit")})]})]})},w=n(54907),I=n(53920),N=n(41080),K=n(35533);var A=function(e){var a=e.currentStudiKasus,n=w.Z.Panel,i=(0,t.useState)({}),s=i[0],l=i[1],c=(0,t.useState)({}),u=(c[0],c[1],(0,t.useState)([])),d=u[0],m=u[1],p=(0,t.useState)([]),h=p[0],v=p[1],b=(0,t.useState)([]),g=b[0],Z=b[1],x=(0,t.useState)(!1),y=x[0],k=x[1];return(0,t.useEffect)((function(){k(!1),(0,K.e0)().then((function(e){var n;l(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.find((function(e){return e.db_id===a.db_id}))),k(!0)})),v([]),Z([])}),[a]),(0,t.useEffect)((function(){m(null===s||void 0===s?void 0:s.content)}),[s]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(o.Z.Title,{level:3,children:["Database ",null===a||void 0===a?void 0:a.database," "]}),(0,f.jsx)(o.Z.Title,{level:5,style:{textAlign:"center",marginBottom:"1em"},children:"Daftar Tabel"}),y?(0,f.jsx)(w.Z,{accordion:!0,onChange:function(e){var a,n,t;v(null===(a=d[e])||void 0===a||null===(n=a.column)||void 0===n?void 0:n.map((function(e){return{title:e,dataIndex:e.toLowerCase(),key:e.toLowerCase()}}))),Z(null===(t=d[e])||void 0===t?void 0:t.data)},children:null===d||void 0===d?void 0:d.map((function(e,a){return(0,f.jsx)(n,{header:"Tabel ".concat(e.table),children:(0,f.jsx)(I.Z,{columns:h,dataSource:g})},a)}))}):(0,f.jsxs)(r.Z,{style:{height:"20vh"},children:[(0,f.jsx)(N.Z,{active:!0,paragraph:!1,title:{width:"30rem"},style:{marginBottom:"1em"}}),(0,f.jsx)(N.Z,{active:!0,paragraph:!1,title:{width:"30rem"},style:{marginBottom:"1em"}})]})]})};var P=function(){var e=(0,t.useState)([]),a=e[0],n=e[1],h=(0,t.useState)(!1),v=h[0],g=h[1],Z=(0,t.useState)({}),x=(Z[0],Z[1]),y=(0,t.useState)({}),k=y[0],_=y[1],j=(0,t.useState)(!1),C=j[0],w=j[1],I=(0,t.useState)(!1),N=I[0],P=I[1],E=(0,t.useState)(""),T=E[0],O=E[1],M=(0,t.useState)(""),D=(M[0],M[1]),B=(0,t.useState)(!1),F=B[0],L=B[1],R=(0,t.useState)("success"),V=R[0],q=(R[1],(0,t.useState)("Alert muncul")),U=q[0],H=q[1];(0,t.useEffect)((function(){(0,K.Y)().then((function(e){n(e.data),g(!0)}))}),[]);var Y=function(){return w((function(e){return!e}))},X=function(){return L((function(e){return!e}))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.default,{children:(0,f.jsx)("title",{children:"SQLearn | Dosen - Studi Kasus "})}),(0,f.jsxs)(s.Z,{role:"dosen",children:[(0,f.jsxs)(r.Z,{justify:"space-between",children:[(0,f.jsx)(l.Z,{children:(0,f.jsx)(o.Z.Title,{level:2,children:"Studi Kasus "})}),(0,f.jsx)(l.Z,{children:(0,f.jsxs)(c.Z,{type:"primary",onClick:function(){O("tambah"),Y()},children:["Tambah Studi Kasus ",(0,f.jsx)(d.Z,{})]})})]}),F?(0,f.jsx)(u.Z,{message:U,type:V,closable:!0,showIcon:!0,banner:!0,style:{marginBottom:"1em"}}):null,(0,f.jsx)(m.Z,{role:T,entity:"Studi Kasus",visible:C,setVisible:w,confirmLoading:N,setConfirmLoading:P,setModalText:D,modalContent:"tambah"===T?(0,f.jsx)(S,{handleSubmit:function(e){Y(),H("Data ".concat(e.studi_kasus_nama," berhasil ditambahkan")),X(),setTimeout((function(){return X()}),5e3),console.log("Hasil submit tambah",e)},setVisible:w,setFormObj:x}):"preview"===T?(0,f.jsx)(A,{currentStudiKasus:k}):(0,f.jsx)(b,{handleSubmit:function(e){Y(),H("Data ".concat(e.studi_kasus_nama," berhasil dihapus")),X(),setTimeout((function(){return X()}),5e3),console.log("Data terhapus",e)},setVisible:w,currentStudiKasus:k})}),(0,f.jsx)(p.Z,{isLoading:!v,dataSource:a,role:"studi-kasus",previewStudiKasus:function(e){_(e),O("preview"),Y()},editStudiKasus:function(e){O("edit"),_(e),Y()},deleteStudiKasus:function(e){O("delete"),_(e),Y()}})]})]})}},35533:function(e,a,n){"use strict";n.d(a,{Y:function(){return r},e0:function(){return l}});var t=n(50029),i=n(87794),s=n.n(i),r=(n(9669),function(){var e=(0,t.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){setTimeout((function(){e({data:[{id:1,nama:"Studi Kasus A",database:"Universitas",db_id:1},{id:2,nama:"Studi Kasus B",database:"Rumah Sakit",db_id:2},{id:3,nama:"Studi Kasus C",database:"SDN Coba 1",db_id:3}]})}),1e3)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),l=function(){var e=(0,t.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){setTimeout((function(){e({data:[{db_id:1,nama_db:"Universitas",content:[{table:"mahasiswa",column:["id_mhs","nama","kelas","ipk"],data:[{id_mhs:1,nama:"Ilham",kelas:1,ipk:5},{id_mhs:2,nama:"Muhammad A",kelas:2,ipk:5},{id_mhs:3,nama:"Adhim",kelas:3,ipk:5},{id_mhs:4,nama:"Orang lain",kelas:4,ipk:5},{id_mhs:5,nama:"Orang lain lagi",kelas:4,ipk:5}]},{table:"user",column:["id_user","username","waktu_login","id_mhs"],data:[{id_user:1,username:"Ilham",waktu_login:1,id_mhs:1},{id_user:2,username:"Muhammad A",waktu_login:"2021-04-14T03:40:49.000Z",id_mhs:2},{id_user:3,username:"Adhim",waktu_login:"2021-04-14T03:40:49.000Z",id_mhs:3},{id_user:4,username:"Orang lain",waktu_login:"2021-04-14T03:40:49.000Z",id_mhs:4}]}]},{db_id:2,nama_db:"Rumah Sakit",content:[{table:"pasien",column:["id_pasien","nama","ruang","penyakit"],data:[{id_pasien:1,nama:"Ilham",ruang:"Bougenvile",penyakit:5},{id_pasien:2,nama:"Muhammad A",ruang:"Dahlia",penyakit:5},{id_pasien:3,nama:"Adhim",ruang:"Edelweiss",penyakit:5},{id_pasien:4,nama:"Orang lain",ruang:"Bougenvile",penyakit:5}]}]},{db_id:3,nama_db:"SDN Coba 1",content:[{table:"siswa",column:["id_siswa","nama","kelas"],data:[{id_siswa:1,nama:"Ilham",kelas:2},{id_siswa:2,nama:"Muhammad A",kelas:4},{id_siswa:3,nama:"Adhim",kelas:3},{id_siswa:4,nama:"Orang lain",kelas:4},{id_siswa:5,nama:"Orang lain lagi",kelas:4}]},{table:"guru",column:["id_guru","nama","pengajar"],data:[{id_guru:1,nama:"Ilham",pengajar:"Bahasa Indonesia"},{id_guru:2,nama:"Muhammad A",pengajar:"Bahasa Indonesia"},{id_guru:3,nama:"Adhim",pengajar:"Matematika"},{id_guru:4,nama:"Orang lain",pengajar:"Matematika"},{id_guru:5,nama:"Orang lain lagi",pengajar:"IPA"}]}]}]})}),1e3)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},61317:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dosen/studi-kasus",function(){return n(54565)}])}},function(e){e.O(0,[4885,6117,7751,7305,6933,2065,3319,5027,4839,1610,3920,74,9774,2888,179],(function(){return a=61317,e(e.s=a);var a}));var a=e.O();_N_E=a}]);